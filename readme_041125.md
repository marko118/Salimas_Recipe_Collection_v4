ğŸ§¾ README.md â€” Salimaâ€™s Recipe Collection (v3 Clean Baseline)
# ğŸ´ Salimaâ€™s Recipe Collection  
**Version:** v3 (Clean Baseline â€” 2025-11)  
**Author:** Mark Richards  

A self-hosted Flask web app for managing and planning family recipes.  
It combines a searchable recipe library, tag system, and a persistent meal planner with a smart, categorized shopping list.

---

## ğŸ“ Project Structure



Salimas_Recipe_Collection/
â”‚
â”œâ”€â”€ app.py # Main Flask app â€” defines all routes and APIs
â”œâ”€â”€ recipes_v2.db # SQLite database (recipes, shopping list, etc.)
â”œâ”€â”€ tags.json # Tag groups and quick-access tags
â”‚
â”œâ”€â”€ templates/ # HTML templates rendered by Flask
â”‚ â”œâ”€â”€ base.html # Global layout, nav bar, and shared styling
â”‚ â”œâ”€â”€ index.html # Homepage + search results
â”‚ â”œâ”€â”€ add.html # Add new recipe form
â”‚ â”œâ”€â”€ edit.html # Edit existing recipe
â”‚ â”œâ”€â”€ recipe_detail.html # View a single recipe
â”‚ â”œâ”€â”€ admin_tags.html # Tag group management (reads/writes tags.json)
â”‚ â””â”€â”€ planner.html # Planner v3 interface (shopping list + meal plan)
â”‚
â”œâ”€â”€ static/ # Client-side assets (CSS / JS)
â”‚ â”œâ”€â”€ style.css # Main site styling
â”‚ â”œâ”€â”€ planner.css # Planner v3 styling
â”‚ â”œâ”€â”€ planner.js # Planner logic (persistent shopping list)
â”‚ â”œâ”€â”€ planner_recipes.js # Handles recipe selection and ingredient import
â”‚ â””â”€â”€ planner_grid.js # Handles meal grid layout (4-day planner)
â”‚
â”œâ”€â”€ archive_unused/ # Legacy files safely moved here by cleanup script
â”‚ â”œâ”€â”€ templates/ # Old notebook & v2 planner files
â”‚ â”œâ”€â”€ static/ # Old JS/CSS assets (v3 dev versions)
â”‚ â””â”€â”€ root/ # Misc Python / DB / test scripts not in use
â”‚
â””â”€â”€ cleanup_auto_archive.sh # Smart cleanup script (moves unused files)


---

## ğŸ§© Core Features

### ğŸ” Recipe Management
- Add, edit, and search recipes by name, ingredients, or tags.
- Recipes are stored in `recipes_v2.db`.
- Supports optional images, notes, and linked recipes.

### ğŸ·ï¸ Tag System
- Tags are defined in `tags.json`.
- Managed via `/admin/tags` (simple text areas for group editing).
- Quick-access tag buttons appear on the homepage.

### ğŸ§¾ Planner v3
- `/planner` page allows:
  - Selecting recipes to plan meals.
  - Auto-extracting ingredients with checkboxes.
  - Adding/removing items manually.
  - Items are automatically categorized (Produce, Pantry, etc.).
  - Checked items persist in the database.
  - Single-click to strike-through (mark bought).
  - Double-click to delete item.
  - â€œClear Listâ€ resets active items but keeps history.
  - â€œGenerate Listâ€ creates a printable overlay.

### ğŸ§  Persistent Shopping List
- Stored in `shopping_list` table within `recipes_v2.db`.
- Columns:


id | name | category | amount | checked | crossed | active | updated_at

- `/api/shopping_list` (GET/POST/PATCH/DELETE) routes handle updates.

---

## âš™ï¸ Local Development

### 1ï¸âƒ£ Environment Setup
```bash
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt

2ï¸âƒ£ Run the App
python3 app.py


Default port: 5050

Visit â†’ http://127.0.0.1:5050

ğŸ§¹ Maintenance
ğŸ” Check for file drift
git status

ğŸ§¹ Archive unused files
./cleanup_auto_archive.sh


Everything not in the active file list will be moved into /archive_unused/.

ğŸ’¾ Backup
tar czf Salimas_Recipe_Collection_backup_$(date +%Y%m%d_%H%M).tgz .

ğŸ§± Future Plans

â€œSave / Recall Plannerâ€ feature for dated meal plans.

Optional meal plan calendar export (e.g., DAKboard integration).

Improved category learning (auto-suggestion memory).

API authentication for multi-user access.

ğŸ§¡ Notes

This project digitizes Salimaâ€™s handwritten meal notebooks and makes them interactive, preserving decades of home-cooking in a modern, searchable format.
All code and data are private and family-owned â€” self-hosted on a Raspberry Pi with Cloudflare Tunnel for secure external access.


